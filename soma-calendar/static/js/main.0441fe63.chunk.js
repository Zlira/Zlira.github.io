(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),o=(n(17),n(2)),s=n(3),u=n(6),l=n(4),d=n(7),m=n(10),v=n(5),h=n(1),f=["\u043d\u0435\u0434\u0456\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0441\u0443\u0431\u043e\u0442\u0430"],p=["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"];function D(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function _(e){return w((e=new Date(e)).getHours())+":"+w(e.getMinutes())}function w(e){return e.toString().padStart(2,"0")}function g(){var e=new Date;for(e.setHours(0),e.setMinutes(0);1!==e.getDay();)e.setDate(e.getDate()-1);return e}function b(e){var t=e.startDate,n=e.endDate,a=e.incrementDate;return r.a.createElement("div",{className:"calendar__week-switcher"},r.a.createElement("button",{className:"calendar__week-switcher-button",onClick:function(){return a(-7)}},"<"),r.a.createElement("button",{className:"calendar__week-switcher-button",onClick:function(){return a(7)}},">"),r.a.createElement("h2",{className:"calendar__week-title"},function(e,t){t=D(t,-1);var n=p[e.getMonth()],a=p[t.getMonth()];return n===a?"".concat(n," ").concat(e.getDate()," - ").concat(t.getDate()):"".concat(n," ").concat(e.getDate()," - ").concat(a," ").concat(t.getDate())}(t,n)))}var E="https://www.googleapis.com/calendar/v3/calendars/".concat("huvrl6on8orta0eq5jvpufjvhg@group.calendar.google.com","/events");function y(e,t){var n=new URL(E);return n.search=function(e,t){return new URLSearchParams({key:"AIzaSyBvM-T_PCBSbvDQUsgHe3hrXh3HfNnnR_4",singleEvents:!0,showDeleted:!1,orderBy:"startTime",timeMin:e.toISOString(),timeMax:t.toISOString()})}(e,t),fetch(n).then(function(e){return e.json()})}var O=[{name:"morning",endHour:11},{name:"day",endHour:18},{name:"evening",endHour:24}];function j(e){return{id:e.id,summary:e.summary,description:e.description,startDT:new Date(e.start.dateTime),endDT:new Date(e.end.dateTime)}}function k(e,t,n){var a=[],r=(n=Array.from(n).reverse()).pop(),c=[],i=!0,o=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){for(var d=u.value;void 0!==r&&t(d,r);)c.push(r),r=n.pop();a.push([d,c]),c=[]}}catch(m){o=!0,s=m}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return a}function N(e,t,n){return k(function(e,t){for(var n=[e];n[n.length-1]<t;)n.push(D(n[n.length-1],1));return n}(t,n),function(e,t){return n=e,a=t.startDT,n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()&&n.getDate()===a.getDate();var n,a},e)}n(18);var S=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={events:[],showDescriptionOn:void 0,startDate:g()},n.showDescirption=n.showDescirption.bind(Object(h.a)(Object(h.a)(n))),n.updateEvents=n.udateEvents.bind(Object(h.a)(Object(h.a)(n))),n.incrementStartDate=n.incrementStartDate.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"showDescirption",value:function(e){this.setState({showDescriptionOn:e})}},{key:"incrementStartDate",value:function(e){var t=this;this.setState(function(t){return{startDate:D(t.startDate,e)}},function(){return t.updateEvents()})}},{key:"udateEvents",value:function(){var e=this,t=D(this.state.startDate,7);y(this.state.startDate,t).then(function(t){e.setState({events:Object(v.a)(t.items.filter(function(e){return!("cancelled"===e.status)}).map(j))})},function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.updateEvents()}},{key:"render",value:function(){var e=this,t=this.state.startDate,n=D(t,7),a=N(this.state.events.map(function(t){return Object(m.a)({},t,{descriptionVisible:t.id===e.state.showDescriptionOn,showDescirption:function(){return e.showDescirption(t.id)},hideDescription:function(){return e.showDescirption()}})}),t,n).slice(0,7).map(function(e){return r.a.createElement(C,{date:e[0],events:e[1],key:e})});return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{startDate:t,endDate:n,incrementDate:this.incrementStartDate}),r.a.createElement("div",{className:"calendar"},a))}}]),t}(r.a.Component);function M(e){var t=e.event,n=t.summary,a=t.description,c=t.startDT,i=t.endDT,o=t.showDescirption,s=t.descriptionVisible,u=t.hideDescription,l="calendar__event-time "+(s?"calendar__event-time_em":"");return r.a.createElement("article",{className:"calendar__event"},r.a.createElement("h3",{className:"calendar__event-title",onClick:o},n),r.a.createElement("p",{className:l},_(c)," - ",_(i)),r.a.createElement(T,{summary:n,description:a,hide:u,hidden:!s}))}function T(e){var t=e.summary,n=e.description,a=e.hidden,c=e.hide,i="calendar__event-description "+(a?"calendar__event-description_hidden":"");return r.a.createElement("div",{className:i},r.a.createElement("h3",{className:"calendar__event-description-title"},t),r.a.createElement("p",{className:"calendar__event-description-text"},n),r.a.createElement("div",{onClick:c,className:"calendar__close-event-descr-btn",title:"\u0437\u0430\u043a\u0440\u0438\u0442\u0438"},"\xd7"))}function H(e){var t=e.name,n=e.events,a=e.dow,c="calendar__slot calendar__slot_day_".concat(a," calendar__slot_").concat(t),i=n.map(function(e){return r.a.createElement(M,{key:e.id,event:e})});return r.a.createElement("div",{className:c},i)}function C(e){var t,n=e.date,a=e.events,c=n.getDay(),i=f[c],o=function(e){var t=k(O,function(e,t){return t.startDT.getHours()<e.endHour},e).map(function(e){return[e[0].name,e[1]]});return Object(v.a)(t)}(a).map(function(e){return r.a.createElement(H,{name:e[0],key:e[0],events:e[1],dow:c})}),s="calendar__slot "+("calendar__slot_day_"+c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s+" calendar__slot_label"},r.a.createElement("h3",{className:"calendar__dow_title"},i),r.a.createElement("p",{className:"calendar__date"},"".concat(w((t=n).getMonth()+1),".").concat(w(t.getDate())))),o)}var B=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(S,null)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.0441fe63.chunk.js.map